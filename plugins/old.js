import moment from 'moment-timezone';
import fs from 'fs';
import os from 'os';
import pkg from '@whiskeysockets/baileys';
const { generateWAMessageFromContent, proto } = pkg;
import config from '../config.cjs';
import axios from 'axios';

// Get total memory and free memory in bytes
const totalMemoryBytes = os.totalmem();
const freeMemoryBytes = os.freemem();

// Define unit conversions
const byteToKB = 1 / 1024;
const byteToMB = byteToKB / 1024;
const byteToGB = byteToMB / 1024;

// Function to format bytes to a human-readable format
function formatBytes(bytes) {
  if (bytes >= Math.pow(1024, 3)) {
    return (bytes * byteToGB).toFixed(2) + ' GB';
  } else if (bytes >= Math.pow(1024, 2)) {
    return (bytes * byteToMB).toFixed(2) + ' MB';
  } else if (bytes >= 1024) {
    return (bytes * byteToKB).toFixed(2) + ' KB';
  } else {
    return bytes.toFixed(2) + ' bytes';
  }
}

// Bot Process Time
const uptime = process.uptime();
const day = Math.floor(uptime / (24 * 3600)); // Calculate days
const hours = Math.floor((uptime % (24 * 3600)) / 3600); // Calculate hours
const minutes = Math.floor((uptime % 3600) / 60); // Calculate minutes
const seconds = Math.floor(uptime % 60); // Calculate seconds

// Uptime
const uptimeMessage = `*I am alive now since ${day}d ${hours}h ${minutes}m ${seconds}s*`;
const runMessage = `*â˜€ï¸ ${day} Day*\n*ğŸ• ${hours} Hour*\n*â° ${minutes} Minutes*\n*â±ï¸ ${seconds} Seconds*\n`;

const xtime = moment.tz("Africa/Nairobi").format("HH:mm:ss");
const xdate = moment.tz("Africa/Nairobi").format("DD/MM/YYYY");
const time2 = moment().tz("Africa/Nairobi").format("HH:mm:ss");
let pushwish = "";

if (time2 < "05:00:00") {
  pushwish = `Good Morning ğŸŒ„`;
} else if (time2 < "11:00:00") {
  pushwish = `Good Morning ğŸŒ„`;
} else if (time2 < "15:00:00") {
  pushwish = `Good Afternoon ğŸŒ…`;
} else if (time2 < "18:00:00") {
  pushwish = `Good Evening ğŸŒƒ`;
} else if (time2 < "19:00:00") {
  pushwish = `Good Evening ğŸŒƒ`;
} else {
  pushwish = `Good Night ğŸŒŒ`;
}

const menu = async (m, Matrix) => {
  const prefix = config.PREFIX;
  const cmd = m.body.startsWith(prefix) ? m.body.slice(prefix.length).split(' ')[0].toLowerCase() : '';
  const mode = config.MODE === 'public' ? 'public' : 'private';
  const pref = config.PREFIX;

  const validCommands = ['professeur', 'menu', 'bot'];

  if (validCommands.includes(cmd)) {
    const str = `â•­âˆ˜â”â”â¤ *ğ‡ğ€ğˆğŠğ-ğŒğƒğ—*
â”ƒâ•­â€¢â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âŠ·
â”ƒâ”‚â *á´œsá´‡Ê€* : *@${m.sender.split("@")[0]}*
â”ƒâ”‚â *á´›Éªá´á´‡* : *${uptime()}*
â”ƒâ”‚â *á´á´á´…á´‡* : *${config.MODE}*
â”ƒâ”‚â *á´˜Ê€á´‡Ò“Éªx* : *[${config.PREFIX}]*
â”ƒâ”‚â *á´…á´‡á´ á´‡ÊŸá´á´˜á´‡Ê€* : *xá´›Ê€á´‡á´á´‡*
â”ƒâ”‚â *á´˜ÊŸá´œÉ¢ÉªÉ´s* :  *${totalCommands}*
â”ƒâ”‚â *á´ á´‡Ê€sÉªá´É´* : *2.0.0*
â”ƒâ•°â€¢â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€âŠ·
â•°âˆ˜â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”âˆ˜â•¯
> *á´á´œÊŸá´›Éª á´…á´‡á´ Éªá´„á´‡ á´¡á´€ Ê™á´á´› Ê™Ê xá´›Ê€á´‡á´á´‡*
> *á´‡É´á´Šá´Ê á´›Êœá´‡ Ê™á´á´›*
> *â•­â­‘â”â”â”â”â”â¤*
> *â”ƒ* *`ğƒğğ–ğğ‹ğğ€ğƒğŒğ„ğğ”`*
> *â”£â¢*  Ò“á´€á´„á´‡Ê™á´á´á´‹
> *â”£â¢*  á´á´‡á´…Éªá´€Ò“ÉªÊ€á´‡
> *â”£â¢*  á´›Éªá´‹á´›á´á´‹
> *â”£â¢*  á´›á´¡Éªá´›á´›á´‡Ê€
> *â”£â¢*  ÉªÉ´sá´›á´€
> *â”£â¢*  á´€á´˜á´‹
> *â”£â¢*  Éªá´É¢
> *â”£â¢*  á´›á´›2
> *â”£â¢*  á´˜ÉªÉ´s
> *â”£â¢*  á´€á´˜á´‹2
> *â”£â¢*  Ò“Ê™2
> *â”£â¢*  á´˜ÉªÉ´á´›á´‡Ê€á´‡sá´›
> *â”£â¢*  sá´˜á´á´›ÉªÒ“Ê
> *â”£â¢*  á´˜ÊŸá´€Ê
> *â”£â¢*  á´˜ÊŸá´€Ê2
> *â”£â¢*  á´€á´œá´…Éªá´
> *â”£â¢*  á´ Éªá´…á´‡á´
> *â”£â¢*  á´ Éªá´…á´‡á´2
> *â”£â¢*  Êá´›á´á´˜3
> *â”£â¢*  Êá´›á´á´˜4
> *â”£â¢*  sá´É´É¢
> *â”£â¢*  á´…á´€Ê€á´€á´á´€
> *â”£â¢* É¢á´…Ê€Éªá´ á´‡
> *â”£â¢*  ssá´¡á´‡Ê™
> *â”£â¢*  á´›Éªá´‹s
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤*
> *â”ƒ* *`ğ‘ğ„ğ€ğ‚ğ“ğˆğğğ’ğŒğ„ğğ”`*
> *â”£â¢*  Ê™á´œÊŸÊŸÊ 
> *â”£â¢*  á´„á´œá´…á´…ÊŸá´‡ 
> *â”£â¢*  á´„Ê€Ê 
> *â”£â¢*  Êœá´œÉ¢
> *â”£â¢*  á´€á´¡á´á´ 
> *â”£â¢*  á´‹Éªss 
> *â”£â¢*  ÊŸÉªá´„á´‹ 
> *â”£â¢*  á´˜á´€á´› 
> *â”£â¢*  sá´á´œÉ¢ 
> *â”£â¢*  Ê™á´É´á´‹ 
> *â”£â¢*  ÊœÉªÉ¢ÊœÒ“Éªá´ á´‡ 
> *â”£â¢*  Êœá´€É´á´…Êœá´ÊŸá´… 
> *â”£â¢*  É´á´á´ 
> *â”£â¢*  Ê™Éªá´›á´‡ 
> *â”£â¢*  É¢ÊŸá´á´á´˜ 
> *â”£â¢*  sÊŸá´€á´˜ 
> *â”£â¢*  á´‹ÉªÊŸÊŸ 
> *â”£â¢*  Êœá´€á´˜á´˜Ê 
> *â”£â¢*  á´¡ÉªÉ´á´‹ 
> *â”£â¢*  á´˜á´á´‹á´‡ 
> *â”£â¢*  á´…á´€É´á´„á´‡ 
> *â”£â¢*  á´„Ê€ÉªÉ´É¢á´‡ 
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤* 
> *â”ƒ* *`ğ†ğ‘ğğ”ğğŒğ„ğğ”`*
> *â”£â¢*  É¢Ê€á´á´œá´˜ÊŸÉªÉ´á´‹
> *â”£â¢*  á´‹Éªá´„á´‹á´€ÊŸÊŸ
> *â”£â¢*  á´‹Éªá´„á´‹á´€ÊŸÊŸ2
> *â”£â¢*  á´‹Éªá´„á´‹á´€ÊŸÊŸ3
> *â”£â¢*  á´€á´…á´…
> *â”£â¢*  á´€É´á´›Éªsá´˜á´€á´
> *â”£â¢*  á´€É´á´›ÉªÊ™á´á´›
> *â”£â¢*  á´€É´á´›Éªá´á´‡É´á´›Éªá´É´
> *â”£â¢*  Ê€á´‡á´á´á´ á´‡
> *â”£â¢*  á´‹Éªá´„á´‹
> *â”£â¢*  á´˜Ê€á´á´á´á´›á´‡
> *â”£â¢*  á´…á´‡á´á´á´›á´‡ 
> *â”£â¢*  á´…Éªsá´Éªss 
> *â”£â¢*  Ê€á´‡á´ á´á´‹á´‡ 
> *â”£â¢*  sá´‡á´›É¢á´á´á´…Ê™Êá´‡ 
> *â”£â¢*  sá´‡á´›á´¡á´‡ÊŸá´„á´á´á´‡ 
> *â”£â¢*  á´…á´‡ÊŸá´‡á´›á´‡ 
> *â”£â¢*  É¢á´‡á´›á´˜Éªá´„ 
> *â”£â¢*  É¢ÉªÉ´Ò“á´ 
> *â”£â¢*  á´…Éªsá´€á´˜á´˜á´‡á´€Ê€ á´É´ 
> *â”£â¢*  á´…Éªsá´€á´˜á´˜á´‡á´€Ê€ á´Ò“Ò“
> *â”£â¢*  á´…Éªsá´€á´˜á´˜á´‡á´€Ê€ 7D,24H
> *â”£â¢*  á´€ÊŸÊŸÊ€á´‡Ç«
> *â”£â¢*  á´œá´˜á´…á´€á´›á´‡É¢É´á´€á´á´‡
> *â”£â¢*  á´œá´˜á´…á´€á´›á´‡É¢á´…á´‡sá´„
> *â”£â¢*  á´Šá´ÉªÉ´Ê€á´‡Ç«á´œá´‡sá´›s
> *â”£â¢*  sá´‡É´á´…á´…á´
> *â”£â¢*  É´Éªá´‹á´€ÊŸ
> *â”£â¢*  á´á´œá´›á´‡
> *â”£â¢*  á´œÉ´á´á´œá´›á´‡
> *â”£â¢*  ÊŸá´á´„á´‹É¢á´„
> *â”£â¢*  á´œÉ´ÊŸá´á´„á´‹É¢á´„
> *â”£â¢*  ÉªÉ´á´ Éªá´›á´‡
> *â”£â¢*  á´›á´€É¢
> *â”£â¢*  ÊœÉªá´…á´‡á´›á´€É¢
> *â”£â¢*  á´›á´€É¢á´€ÊŸÊŸ
> *â”£â¢*  á´›á´€É¢á´€á´…á´ÉªÉ´s
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤*
> *â”ƒ* *`ğ‹ğğ†ğğŒğ€ğŠğ„ğ‘`*
> *â”£â¢*  É´á´‡á´É´ÊŸÉªÉ¢Êœá´›
> *â”£â¢*  Ê™ÊŸá´€á´„á´‹á´˜ÉªÉ´á´‹
> *â”£â¢*  á´…Ê€á´€É¢á´É´Ê™á´€ÊŸÊŸ
> *â”£â¢*  3 á´…á´„á´á´Éªá´„
> *â”£â¢*  á´€á´á´‡Ê€Éªá´„á´€
> *â”£â¢*  É´á´€Ê€á´œá´›á´
> *â”£â¢*  sá´€á´…É¢ÉªÊ€ÊŸ
> *â”£â¢*  á´„ÊŸá´á´œá´…s
> *â”£â¢*  Ò“á´œá´›á´œÊ€Éªsá´›Éªá´„
> *â”£â¢*  3á´…á´˜á´€á´˜á´‡Ê€
> *â”£â¢*  É¢á´€ÊŸá´€xÊ
> *â”£â¢*  sá´€É´s
> *â”£â¢*  Ê™á´á´á´
> *â”£â¢*  Êœá´€á´„á´‹á´‡Ê€
> *â”£â¢*  á´…á´‡á´ ÉªÊŸá´¡ÉªÉ´É¢s
> *â”£â¢*  É´ÉªÉ¢á´‡Ê€Éªá´€
> *â”£â¢*  Ê™á´œÊŸÊ™
> *â”£â¢*  á´›Êá´˜á´É¢Ê€á´€á´˜ÊœÊ
> *â”£â¢*  Ê™ÉªÊ€á´›Êœá´…á´€Ê
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤*
> *â”ƒ* *`ğğ–ğğ„ğ‘ğŒğ„ğğ”`*
> *â”£â¢*  á´á´¡É´á´‡Ê€
> *â”£â¢*  á´á´‡É´á´œ
> *â”£â¢*  á´á´‡É´á´œ2
> *â”£â¢*  á´ á´ 
> *â”£â¢*  á´„Êœá´€á´›Ê™á´á´›
> *â”£â¢*  á´˜Êœá´á´›á´
> *â”£â¢*  á´€É´á´›Éªá´„á´€ÊŸÊŸ
> *â”£â¢*  ÊŸÉªsá´›á´„á´á´…
> *â”£â¢*  á´€ÊŸÊŸá´á´‡É´á´œ
> *â”£â¢*  Ê€á´‡á´˜á´
> *â”£â¢*  Ê™ÊŸá´á´„á´‹
> *â”£â¢*  á´œÉ´Ê™ÊŸá´á´„á´‹
> *â”£â¢*  Ò“á´œÊŸÊŸá´˜á´˜
> *â”£â¢*  sá´‡á´›á´˜á´˜
> *â”£â¢*  á´›á´›á´›
> *â”£â¢*  Ê€á´‡sá´›á´€Ê€á´›
> *â”£â¢*  sÊœá´œá´›á´…á´á´¡É´
> *â”£â¢*  á´œá´˜á´…á´€á´›á´‡á´„á´á´…
> *â”£â¢*  á´€ÊŸÉªá´ á´‡
> *â”£â¢*  á´˜ÉªÉ´É¢
> *â”£â¢*  á´ŠÉªá´…
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤*
> *â”ƒ* *`ğ…ğ”ğğŒğ„ğğ”`*
> *â”£â¢*  sÊœá´€á´˜á´€Ê€
> *â”£â¢*  Ê€á´€á´›á´‡
> *â”£â¢*  ÉªÉ´sá´œÊŸá´›
> *â”£â¢*  Êœá´€á´„á´‹
> *â”£â¢*  sÊœÉªá´˜
> *â”£â¢*  á´„Êœá´€Ê€á´€á´„á´›á´‡Ê€
> *â”£â¢*  á´˜Éªá´„á´‹á´œá´˜
> *â”£â¢*  á´Šá´á´‹á´‡
> *â”£â¢*  ÊœÊ€á´›
> *â”£â¢*  Êœá´˜Ê
> *â”£â¢*  sÊá´…
> *â”£â¢*  á´€É´É¢á´‡Ê€
> *â”£â¢*  sÊœÊ
> *â”£â¢*  á´‹Éªss
> *â”£â¢*  Êœá´ÊŸá´…
> *â”£â¢*  Êœá´œÉ¢
> *â”£â¢*  É´Éªá´‹á´€ÊŸ
> *â”£â¢*  ÊœÉªÒ“Éª
> *â”£â¢*  á´˜á´á´‹á´‡
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤* 
> *â”ƒ* *`ğ‚ğğğ•ğ„ğ‘ğ“ğŒğ„ğğ”`*
> *â”£â¢*  sá´›Éªá´„á´‹á´‡
> *â”£â¢*  á´‡á´á´á´ŠÉªá´Éªx
> *â”£â¢*  Ò“á´€É´á´„Ê
> *â”£â¢*  á´›á´€á´‹á´‡
> *â”£â¢*  á´›á´á´á´˜3
> *â”£â¢*  á´›á´›s
> *â”£â¢*  á´›Ê€á´›
> *â”£â¢*  Ê™á´€sá´‡64
> *â”£â¢*  á´œÉ´Ê™á´€sá´‡64
> *â”£â¢*  Ê™ÉªÉ´á´€Ê€Ê
> *â”£â¢*  á´…Ê™ÉªÉ´á´€Ê€Ê
> *â”£â¢*  á´›ÉªÉ´Êá´œÊ€ÊŸ
> *â”£â¢*  á´œÊ€ÊŸá´…á´‡á´„á´á´…á´‡
> *â”£â¢*  á´œÊ€ÊŸ
> *â”£â¢*  Ê€á´‡á´˜á´‡á´€á´›
> *â”£â¢*  á´€sá´‹
> *â”£â¢*  Ê€á´‡á´€á´…á´á´Ê€á´‡
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤* 
> *â”ƒ* *`ğ€ğˆğŒğ„ğğ”`*
> *â”£â¢*  á´€Éª
> *â”£â¢*  É¢á´˜á´›3
> *â”£â¢*  É¢á´˜á´›á´ÉªÉ´Éª
> *â”£â¢* Êœá´€Éªá´‹á´
> *â”£â¢*  á´á´‡á´›á´€
> *â”£â¢*  Ê™ÊŸá´€á´„á´‹Ê™á´x
> *â”£â¢*  ÊŸá´œá´á´€
> *â”£â¢*  á´…á´Š
> *â”£â¢*  Êœá´€Éªá´‹á´
> *â”£â¢*  á´˜Ê€á´Ò“
> *â”£â¢*  É¢á´˜á´›4
> *â”£â¢*  Ê™ÉªÉ´É¢
> *â”£â¢*  Éªá´á´€É¢ÉªÉ´á´‡
> *â”£â¢*  Éªá´á´€É¢ÉªÉ´á´‡2
> *â”£â¢*  á´„á´á´˜ÉªÊŸá´á´›
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤* 
> *â”ƒ* *`ğŒğ€ğˆğğŒğ„ğğ”`*
> *â”£â¢*  á´˜ÉªÉ´É¢
> *â”£â¢*  á´˜ÉªÉ´É¢2
> *â”£â¢*  sá´˜á´‡á´‡á´…
> *â”£â¢*  ÊŸÉªá´ á´‡
> *â”£â¢*  á´€ÊŸÉªá´ á´‡
> *â”£â¢*  Ê€á´œÉ´á´›Éªá´á´‡
> *â”£â¢*  á´œá´˜á´›Éªá´á´‡
> *â”£â¢*  Ê€á´‡á´˜á´
> *â”£â¢*  á´á´¡É´á´‡Ê€
> *â”£â¢*  á´á´‡É´á´œ
> *â”£â¢*  á´á´‡É´á´œ2
> *â”£â¢*  Ê€á´‡sá´›á´€Ê€á´›
> *â•°â­‘â”â”â¤* *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤* 
> *â”ƒ* *`ğ€ğğˆğŒğ„ğŒğ„ğğ”`*
> *â”£â¢*  Ò“á´€á´„á´‹
> *â”£â¢*  á´›Ê€á´œá´›Êœ
> *â”£â¢*  á´…á´€Ê€á´‡
> *â”£â¢*  á´…á´É¢
> *â”£â¢*  á´€á´¡á´á´
> *â”£â¢*  É¢á´€Ê€ÊŸ
> *â”£â¢*  á´¡á´€ÉªÒ“á´œ
> *â”£â¢*  É´á´‡á´‹á´
> *â”£â¢*  á´á´‡É¢É´á´œá´ÉªÉ´
> *â”£â¢*  É´á´‡á´‹á´
> *â”£â¢*  á´á´€Éªá´…
> *â”£â¢*  ÊŸá´ÊŸÉª
> *â”£â¢*  á´€É´Éªá´á´‡É¢ÉªÊ€ÊŸ
> *â”£â¢*  á´€É´Éªá´á´‡É´á´‡á´¡s
> *â”£â¢*  Ò“á´xÉ¢ÉªÊ€ÊŸ
> *â”£â¢*  É´á´€Ê€á´œá´›á´
> *â•°â­‘â”â”â¤*  *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*

> *â•­â­‘â”â”â”â”â”â¤* 
> *â”ƒ* *`ğğ“ğ‡ğ„ğ‘ğŒğ„ğğ”`*
> *â”£â¢*  á´›Éªá´á´‡É´á´á´¡
> *â”£â¢*  á´…á´€á´›á´‡
> *â”£â¢*  á´„á´á´œÉ´á´›
> *â”£â¢*  á´„á´€ÊŸá´„á´œÊŸá´€á´›á´‡
> *â”£â¢*  á´„á´á´œÉ´á´›x
> *â”£â¢*  Ò“ÊŸÉªá´˜
> *â”£â¢*  á´„á´ÉªÉ´Ò“ÊŸÉªá´˜
> *â”£â¢*  Ê€á´„á´ÊŸá´Ê€
> *â”£â¢*  Ê€á´ÊŸÊŸ
> *â”£â¢*  Ò“á´€á´„á´›
> *â”£â¢*  á´„á´˜á´˜
> *â”£â¢*  Ê€á´¡
> *â”£â¢*  á´˜á´€ÉªÊ€
> *â”£â¢*  ÊŸá´É¢á´ <á´›á´‡xá´›>
> *â”£â¢*  á´…á´‡Ò“ÉªÉ´á´‡
> *â”£â¢*  É´á´‡á´¡s
> *â”£â¢*  á´á´á´ Éªá´‡
> *â”£â¢*  á´¡á´‡á´€á´›Êœá´‡Ê€
> *â”£â¢*  sÊ€á´‡á´˜á´
> *â”£â¢*  ÉªÉ´sá´œÊŸá´›
> *â”£â¢*  sá´€á´ á´‡
> *â”£â¢*  á´¡Éªá´‹Éªá´˜á´‡á´…Éªá´€
> *â”£â¢*  É¢á´˜á´€ss
> *â”£â¢*  É¢Éªá´›Êœá´œÊ™sá´›á´€ÊŸá´‹
> *â”£â¢*  Êá´›s
> *â”£â¢*  Êá´›á´ 
> *â•°â­‘â”â”â¤*  *ğš†ğ™° ğ™±ğ™¾ğšƒ ğŸ¸ğŸ¶ğŸ¸ğŸ»-ğŸ¸ğŸ¶ğŸ¸ğŸ¼*
> *á´˜á´á´¡á´‡Ê€á´‡á´… Ê™Ê á´…á´‡á´  á´˜Ê€á´Ò“ xá´›Ê€á´‡á´á´‡*`;

    // Check if MENU_IMAGE exists in config and is not empty
    let menuImage;
    if (config.MENU_IMAGE && config.MENU_IMAGE.trim() !== '') {
      try {
        // Try to fetch the image from URL
        const response = await axios.get(config.MENU_IMAGE, { responseType: 'arraybuffer' });
        menuImage = Buffer.from(response.data, 'binary');
      } catch (error) {
        console.error('Error fetching menu image from URL, falling back to local image:', error);
        menuImage = fs.readFileSync('https://files.catbox.moe/bqwb91.jpg');
      }
    } else {
      // Use local image if MENU_IMAGE is not configured
      menuImage = fs.readFileSync('https://files.catbox.moe/bqwb91.jpg');
    }

    await Matrix.sendMessage(m.from, {
      image: menuImage,
      caption: str,
      contextInfo: {
        mentionedJid: [m.sender],
        forwardingScore: 999,
        isForwarded: true,
        forwardedNewsletterMessageInfo: {
          newsletterJid: '120363398101781980@newsletter',
          newsletterName: "ğ‡ğ€ğˆğŠğ-ğŒğƒğ—-ğ•ğŸğŸª€",
          serverMessageId: 143
        }
      }
    }, {
      quoted: m
    });

    // Send audio after sending the menu
    await Matrix.sendMessage(m.from, {
      audio: { url: 'https://files.catbox.moe/rvfjap.mp3' },
      mimetype: 'audio/mp4',
      ptt: true
    }, { quoted: m });
  }
};

export default menu;

